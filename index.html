<!doctype html>
<html>

<head>
	<title>GeoDraw</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<link rel="image_src" href="images/logo.gif" />
	<link rel="shortcut icon" type="image/gif" href="images/favicon.gif">
	<link rel="stylesheet" type="text/css" href="index.css">
	<script type="text/javascript" src="third-party/canvg.js"></script>
	<script type="text/javascript" src="third-party/rgbcolor.js"></script>
	<script src="third-party/json2.js"></script>
	<script src="third-party/jquery-1.9.1.min.js"></script>
	<script src="third-party/jquery-migrate-1.1.1.min.js"></script>
	<script src="third-party/raphael-min.js"></script>
	<script src="third-party/raphael.sketchpad.js"></script>
	<script src="third-party/sketchy.js"></script>
	<script src="countries.js"></script>
</head>

<body>
	<div class="scripts">
		<script>
			$(document).ready(function () {
				var sketchpad_editor = Raphael.sketchpad("sketchpad_editor", {
					width: 300,
					height: 300,
					editing: true
				});
				$("#saveButton").click(function () {
					analyseDrawing(sketchpad_editor.json());
				});
			});
			function analyseDrawing(svg) {
				var country = countries.filter(c => {
					return c.name == "France"
				})[0]
				let result = Sketchy.shapeContextMatch(svg, country.svg);
				alert("Your design looks like France by about "+Math.round(result*100)+"% !")
			};
		</script>
	</div>
	<div class="sketchcontainer">
		<div id="sketchpad_editor" class="sketchpad"></div>
	</div>
	<div class="saveButtonContainer">
		<button id="saveButton" class="saveButton">
			Analyse
		</button>
	</div>
	<div class="result">
	</div>
</body>

</html>
